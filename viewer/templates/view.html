{% extends "core.html" %}
{% load static %}

{% block title %}View DZI{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-12">
            <div id="viewer" style="height: 99vh;"></div>
        </div>
    </div>
{% endblock %}

{% block additional_scripts %}
    <script>
        var viewer = OpenSeadragon({
            id: "viewer",
            prefixUrl: "{% static 'viewer/openseadragon-4.1.0/images/' %}",
            tileSources: {
                type: 'image',
                server: 'http://iipimage:9000/fcgi-bin/iipsrv.fcgi?DeepZoom=WW_S01_P000106_C0001_B301_T01_V01_L01_A15_wyuNp5S.tif.dzi',
                filePath: '{{ file.uploaded_file.url }}'
            },
            showNavigator: true,
            navigatorPosition: "BOTTOM_RIGHT",
            navigatorSizeRatio: 0.2,
        });
    </script>
    {{ file.uploaded_file.url }}
    'http://iipimage:9000/fcgi-bin/iipsrv.fcgi?DeepZoom={{ file.uploaded_file.url }}.dzi'
{% endblock %}
